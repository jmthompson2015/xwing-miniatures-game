<!DOCTYPE html>
<html>
<head>
	<title>MyTestEntityUI</title>

	<link rel="stylesheet" href="../../../src/view/css/style.css">

	<script src="../../../lib/requirejs/require-2.3.5.js"></script>
	<script src="../js/require-config.js"></script>
	<script src="../../../src/main.js"></script>

	<style>
		.mainPanel {
			background-color: #F0F0F0;
			border: 1px solid lightGray;
			display: table;
			font-size: small;
			margin-bottom: 10px;
		}

		.inputRow {
			display: table-row;
		}

		.inputCell {
			display: table-cell;
			vertical-align: middle;
		}
	</style>
</head>
<body>
	<div style="display: table-row;">
		<div id="panel0" style="display: table-cell;"></div>
		<div id="panel20" style="display: table-cell;"></div>
	</div>
	<div style="display: table-row;">
		<div id="panel1" style="display: table-cell;"></div>
		<div id="panel21" style="display: table-cell;"></div>
	</div>
	<div style="display: table-row;">
		<div id="panel2" style="display: table-cell;"></div>
		<div id="panel22" style="display: table-cell;"></div>
	</div>
	<div style="display: table-row;">
		<div id="panel3" style="display: table-cell;"></div>
		<div id="panel23" style="display: table-cell;"></div>
	</div>
	<div style="display: table-row;">
		<div id="panel4" style="display: table-cell;"></div>
		<div id="panel24" style="display: table-cell;"></div>
	</div>
	<script>
		"use strict";

		require(["react", "react-dom", "react-dom-factories", "common/js/Logger", "artifact/js/DamageCard", "artifact/js/Maneuver", "artifact/js/PilotCard",
				"artifact/js/Ship",
				"artifact/js/ShipAction", "artifact/js/UpgradeCard", "view/js/EntityUI", "view/js/InputPanel"
			],
			function(React, ReactDOM, DOM, Logger, DamageCard, Maneuver, PilotCard, Ship, ShipAction, UpgradeCard, EntityUI, InputPanel)
			{
				window.LOGGER = new Logger();
				LOGGER.setTraceEnabled(false);
				LOGGER.setDebugEnabled(false);

				var resourceBase = "../../../src/view/resource/";

				var damage = DamageCard.properties[DamageCard.CONSOLE_FIRE];
				var pilot0 = PilotCard.properties[PilotCard.DARTH_VADER];
				var pilot1 = PilotCard.properties[PilotCard.LUKE_SKYWALKER];
				var pilot2 = PilotCard.properties[PilotCard.DENGAR];
				var ship = Ship.properties[Ship.YT_1300];
				var shipAction0 = ShipAction.properties[ShipAction.BARREL_ROLL];
				var context0 = {
					maneuverKey: Maneuver.BARREL_ROLL_LEFT_1_STANDARD,
				};
				var shipAction1 = ShipAction.properties[ShipAction.BOOST];
				var context1 = {
					maneuverKey: Maneuver.BANK_RIGHT_1_STANDARD,
				};
				var shipAction2 = ShipAction.properties[ShipAction.EVADE];
				var upgrade0 = UpgradeCard.properties[UpgradeCard.VETERAN_INSTINCTS];
				var upgrade1 = UpgradeCard.properties[UpgradeCard.LANDO_CALRISSIAN];
				var upgrade2 = UpgradeCard.properties[UpgradeCard.ION_PROJECTOR];
				var entities = [damage, pilot0, pilot1, pilot2, ship, shipAction0, shipAction1, shipAction2, upgrade0, upgrade1, upgrade2];
				var contexts = [undefined, undefined, undefined, undefined, undefined, context0, context1, undefined, undefined, undefined, undefined];

				var showIcon, showLabel, showImplemented;

				for (var j = 0; j < 5; j++)
				{
					var input = undefined;

					switch (j)
					{
						case 0:
							input = DOM.input(
							{
								className: "radioInput",
								name: "testInput",
								type: InputPanel.Type.RADIO,
							});
						case 1:
							showIcon = true;
							showLabel = true;
							showImplemented = true;
							break;
						case 2:
							showIcon = false;
							showLabel = true;
							showImplemented = true;
							break;
						case 3:
							showIcon = true;
							showLabel = false;
							showImplemented = true;
							break;
						case 4:
							showIcon = true;
							showLabel = true;
							showImplemented = false;
							break;
					}

					var rows = entities.map(function(entity, i)
					{
						var element = React.createElement(EntityUI,
						{
							key: "childDiv" + i,
							className: "elementCell",
							context: contexts[i],
							entity: entity,
							resourceBase: resourceBase,
							showIcon: showIcon,
							showLabel: showLabel,
							showImplemented: showImplemented,
						});
						return DOM.div(
						{
							key: "inputRow" + i,
							className: "inputRow",
						}, DOM.div(
						{
							key: "inputCell" + i,
							className: "inputCell",
						}, input), element);
					});

					ReactDOM.render(DOM.div(
					{
						className: "mainPanel",
					}, rows), document.getElementById("panel" + j));

					var rows = entities.map(function(entity, i)
					{
						var element = React.createElement(EntityUI,
						{
							key: "childDiv" + i,
							className: "elementCell",
							context: contexts[i],
							entity: entity,
							resourceBase: resourceBase,
							showIcon: showIcon,
							showLabel: showLabel,
							showImplemented: showImplemented,
						});
						return DOM.tr(
						{
							key: "inputRow" + i,
							className: "inputRow",
						}, DOM.td(
						{
							key: "inputCell" + i,
							className: "inputCell",
						}, input), DOM.td(
						{
							key: "elementCell" + i,
							className: "elementCell",
						}, element));
					});

					ReactDOM.render(DOM.table(
					{
						className: "mainPanel",
					}, DOM.tbody(
					{}, rows)), document.getElementById("panel2" + j));
				}
			});
	</script>
</body>

</html>
