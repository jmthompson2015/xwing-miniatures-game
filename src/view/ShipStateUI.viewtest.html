<!DOCTYPE html>
<html>
<head>
	<title>MyTestShipStateUI</title>
	<link rel="stylesheet" href="../../lib/tachyons/tachyons-4.8.1.css">
	<link rel="stylesheet" href="../view/style.css">
	<script src="../../lib/requirejs/require-2.3.5.js"></script>
	<script src="require-config.js"></script>
	<script src="../main.js"></script>
</head>
<body>
	<div id="panel"></div>
	<script>
		"use strict";

		require(["react", "react-dom", "react-dom-factories", "utility/Logger", "artifact/Faction", "artifact/ShipState", "view/ShipStateUI"],
			function(React, ReactDOM, DOM, Logger, Faction, ShipState, ShipStateUI)
			{
				window.LOGGER = new Logger();
				LOGGER.setTraceEnabled(false);
				LOGGER.setDebugEnabled(false);

				var resourceBase = "../resource/";
				var className0 = "ba b--black bg-dark-green white";
				var className1 = "ba bg-near-white f6 tl";
				var rows = [];
				var cells = [];

				Faction.keys().forEach(function(factionKey, j)
				{
					cells.push(DOM.th(
					{
						key: cells.length,
						className: className0,
						colSpan: "2",
					}, Faction.properties[factionKey].name));
				});
				rows.push(DOM.tr(
				{
					key: rows.length,
				}, cells));

				ShipState.keys().forEach(function(shipStateKey, i)
				{
					var shipState = ShipState.properties[shipStateKey];
					cells = [];
					var image0, image1;

					Faction.keys().forEach(function(factionKey, j)
					{
						var faction = Faction.properties[factionKey];

						if (shipStateKey === "Skill")
						{
							var label = 8;
							var labelClass = "pilotSkillValue";
							image0 = React.createElement(ShipStateUI,
							{
								shipState: shipState,
								faction: faction,
								resourceBase: resourceBase,
								label: label,
								labelClass: labelClass,
							});
							image1 = React.createElement(ShipStateUI,
							{
								shipState: shipState,
								faction: faction,
								resourceBase: resourceBase,
								label: label,
								labelClass: labelClass,
								showName: true,
							});
						}
						else
						{
							image0 = React.createElement(ShipStateUI,
							{
								shipState: shipState,
								faction: faction,
								resourceBase: resourceBase,
							});
							image1 = React.createElement(ShipStateUI,
							{
								shipState: shipState,
								faction: faction,
								resourceBase: resourceBase,
								showName: true,
							});
						}

						cells.push(DOM.td(
						{
							key: cells.length,
							className: className1,
						}, image0));
						cells.push(DOM.td(
						{
							key: cells.length,
							className: className1,
						}, image1));
					});

					rows.push(DOM.tr(
					{
						key: rows.length,
					}, cells));
				});

				ReactDOM.render(DOM.table(
				{}, DOM.tbody(
				{}, rows)), document.getElementById("panel"));
			});
	</script>
</body>

</html>